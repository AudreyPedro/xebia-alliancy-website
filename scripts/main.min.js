!function(){var a={findIndex:function(a,b){for(var c in a)if(b(a[c]))return c<<0;return-1},find:function(a,b){for(var c in a){var d=a[c];if(b(d))return d}return null}},b=[{page:"xebia",title:"Xebia",url:"index.html",mainUrl:"http://www.xebia.fr"},{page:"ux",title:"UX Republic",url:"ux.html",mainUrl:"http://ux-republic.com"},{page:"labs",title:"Xebia Labs",url:"labs.html",mainUrl:"http://www.xebialabs.com"},{page:"thiga",title:"THIGA",url:"thiga.html",mainUrl:"http://www.thiga.fr"}],c=[{page:"xebia",title:"Xebia",url:"xebia-detail.html"},{page:"ux",title:"UX Republic",url:"ux-detail.html"},{page:"labs",title:"Xebia Labs",url:"labs-detail.html"},{page:"thiga",title:"THIGA",url:"thiga-detail.html"}],d=function(c){return a.findIndex(b,function(a){return a.page==c})},e=function(a){var b=a.getFullYear(),c=a.getMonth()+1,d=a.getDay();return""+b+"-"+c+"-"+d},f={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},g=function(a){var b=a.getFullYear(),c=a.getMonth()+1,d=f[""+c],e=a.getDate();return""+e+" "+d+" "+b},h=function(a){var b=parseInt(a.substr(0,4),10),c=parseInt(a.substr(5,2),10)-1,d=parseInt(a.substr(8,2),10),e=parseInt(a.substr(11,2),10),f=parseInt(a.substr(14,2),10),g=parseInt(a.substr(17,2),10);return new Date(b,c,d,e,f,g)},i='<section class="block standard-block xebia"><div class="title-block xebia-title">Xebia<time></time></div><div class="content-block"><h1></h1></div></section>',j=function(a,b,c,d){var f=$(i);return f.addClass(a),f.find(".title-block time").attr("datetime",e(b)).text(g(b)),f.find("h1").html('<a href="'+d+'">'+c+"</a>"),f},k=function(a){$("#blockContent").append(a),a.css("display","inline-block"),a.animate({opacity:1})},l=function(a,b,c,d,e,f){var g=j("eventbrite-block",b,c,d),h=g.find(".content-block");h.append('<div class="bottom-arrow"></div>'),h.append('<img src="'+e+'" alt="'+f+'" class="illustration big-illustration"/>'),k(g)};window.APPLICATION={currentPage:null,navigationIntervalIndex:null,init:function(a){this.currentPage=a,this.initRouting(),this.initNavigation(),this.initBlocks(),this.initStickyHeader(),this.initMenuMobile(),this.initSubLevel()},initMenuMobile:function(){$(".stripes").click(function(){$(this).toggleClass("on"),$(".frise").toggleClass("open")})},initSubLevel:function(){var b=this;$(".frise a").removeAttr("href").click(function(){var d=$(this).attr("class"),e=a.find(c,function(a){return a.page==d});b.subNavigate(e)})},initStickyHeader:function(){var a=$(window),b=$("header"),c=b.position().top+b.height(),d=$(".frise"),e=c-d.height();a.scroll(function(){a.scrollTop()>e?d.css({position:"fixed",top:0,bottom:"inherit"}):d.attr("style","")})},initRouting:function(){var a=this;window.onpopstate=function(b){var c=b.state;c&&a.goToPage(c)}},initBlocks:function(){this.initEventbriteBlock(),this.initBlogBlock();var a=$("#blockContent");a.mixitup({targetSelector:".block"}),a.sortable()},initBlogBlock:function(){var a="http://blog.xebia.fr/wp-json-api/get_recent_posts/?count=1",b=$.ajax(a,{dataType:"jsonp"});b.done(function(a){var b=a.posts;if(!(b.length<1)){var c=b[0],d=h(c.date),e=c.title,f=c.excerpt,g=c.url,i=j("blog-block",d,e,g),l=i.find(".content-block");l.append("<p>"+f+"</p>"),k(i)}})},initEventbriteBlock:function(){Eventbrite({app_key:"UW2IBMBZKW4U6EPHQK"},function(b){b.organizer_list_events({id:1627902102,only_display:"url, status, start_date, title, logo"},function(b){if(b.events&&b.events.length>0){var c=(new Date).getTime(),d=a.find(b.events,function(a){var b=a.event,d=h(b.start_date);return d.getTime()>c&&"Live"==b.status});if(d){var e=d.event;e.title&&l("Xebia",h(e.start_date),e.title,e.url,e.logo,"logo "+e.title)}}})})},initNavigation:function(){var a=this,c=$(".headers"),d=100*(c.css("left").replace("px","")<<0)/c.width();c.css("left",d+"%"),c.find("> div").css("display","block"),$(".next-page").click(function(){a.goToNextPage()}),$(".prev-page").click(function(){a.goToPrevPage()}),$(".page-indicators > span").click(function(){var c=$(".page-indicators > span").index(this),d=b[c];a.navigate(d)}),this.initNavigationInterval()},goToNextPage:function(){var a=d(this.currentPage),c=a>=b.length-1?0:a+1,e=b[c];this.navigate(e)},goToPrevPage:function(){var a=d(this.currentPage),c=1>a?b.length-1:a-1,e=b[c];this.navigate(e)},initNavigationInterval:function(){clearInterval(this.navigationIntervalIndex);var a=this;this.navigationIntervalIndex=setInterval(function(){a.goToNextPage()},1e4)},goToPage:function(a){var b=this,c=d(a.page);$(".wrapper").attr("class","wrapper "+a.page),$(".knowing-more a").attr("href",a.mainUrl).attr("title",a.title),$(".headers").animate({left:100*-c+"%"},500,function(){b.currentPage=a.page}),this.initNavigationInterval()},goToSubPage:function(c){var d=a.find(b,function(a){return a.page==c.page});this.goToPage(d),clearInterval(this.navigationIntervalIndex);var e=this;$(".alliance-logo").off("click").click(function(){e.navigate(d),$("#blockContent").mixitup("filter","block")}),$("#blockContent").mixitup("filter",c.page)},navigate:function(a){this.goToPage(a),history.pushState(a,a.title,a.url)},subNavigate:function(a){this.goToSubPage(a),history.pushState(a,a.title,a.url)}}}();