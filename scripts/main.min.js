!function(){var a=[{page:"xebia",title:"Xebia",url:"index.html",mainUrl:"http://www.xebia.fr"},{page:"ux",title:"UX Republic",url:"ux.html",mainUrl:"http://ux-republic.com"},{page:"labs",title:"Xebia Labs",url:"labs.html",mainUrl:"http://www.xebialabs.com"},{page:"thiga",title:"THIGA",url:"thiga.html",mainUrl:"http://www.thiga.com"}],b=function(b){return _.findIndex(a,function(a){return a.page==b})};window.APPLICATION={currentPage:null,navigationIntervalIndex:null,init:function(a){this.currentPage=a,this.initRouting(),this.initNavigation(),this.initBlocks(),this.initStickyHeader()},initStickyHeader:function(){var a=$(window),b=$("header"),c=b.position().top+b.height(),d=$(".frise"),e=c-d.height();a.scroll(function(){a.scrollTop()>e?d.css({position:"fixed",top:0,bottom:"inherit"}):d.attr("style","")})},initRouting:function(){var a=this;window.onpopstate=function(b){var c=b.state;c&&a.goToPage(c)}},initBlocks:function(){var a=document.querySelector("#blockContent"),b=new Packery(a,{itemSelector:".block"}),c=b.getItemElements();_.forEach(c,function(a){var c=new Draggabilly(a);b.bindDraggabillyEvents(c)})},initNavigation:function(){var b=this,c=$(".headers"),d=100*(c.css("left").replace("px","")<<0)/c.width();c.css("left",d+"%"),c.find("> div").css("display","block"),$(".next-page").click(this.goToNextPage.bind(this)),$(".prev-page").click(this.goToPrevPage.bind(this)),$(".page-indicators > span").click(function(){var c=$(".page-indicators > span").index(this),d=a[c];b.navigate(d)}),this.initNavigationInterval()},goToNextPage:function(){var c=b(this.currentPage),d=c>=a.length-1?0:c+1,e=a[d];this.navigate(e)},goToPrevPage:function(){var c=b(this.currentPage),d=1>c?a.length-1:c-1,e=a[d];this.navigate(e)},initNavigationInterval:function(){clearInterval(this.navigationIntervalIndex);var a=this;this.navigationIntervalIndex=setInterval(function(){a.goToNextPage()},1e4)},goToPage:function(a){var c=this,d=b(a.page);$(".wrapper").attr("class","wrapper "+a.page),$(".knowing-more a").attr("href",a.mainUrl).attr("title",a.title),$(".headers").animate({left:100*-d+"%"},500,function(){c.currentPage=a.page}),this.initNavigationInterval()},navigate:function(a){this.goToPage(a),history.pushState(a,a.title,a.url)}}}();